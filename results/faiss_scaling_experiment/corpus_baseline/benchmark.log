Command: python Scripts/run_faiss_benchmark.py --corpus Data/test_corpus/documents --output results/faiss_scaling_experiment/corpus_baseline
Duration: 9.46s
Return code: 0

STDOUT:
======================================================================
Faiss Vector Database Benchmark
======================================================================

[1/7] Setting up output directory...
Output directory: results/faiss_scaling_experiment/corpus_baseline

[2/7] Loading test data...

Loading documents from Data/test_corpus/documents...
  Loaded: doc_001_ice_albedo_basic.txt (2281 chars)
  Loaded: doc_002_ice_albedo_arctic.txt (2541 chars)
  Loaded: doc_003_ice_albedo_modeling.txt (2740 chars)
  Loaded: doc_004_ice_albedo_measurement.txt (2798 chars)
  Loaded: doc_005_ice_albedo_impacts.txt (2755 chars)
  Loaded: doc_006_greenhouse_basics.txt (2738 chars)
  Loaded: doc_007_co2_carbon_cycle.txt (2774 chars)
  Loaded: doc_008_methane_sources.txt (3391 chars)
  Loaded: doc_009_radiative_forcing.txt (3869 chars)
  Loaded: doc_010_ghg_mitigation.txt (4599 chars)
  Loaded: doc_011_ocean_circulation_basics.txt (3221 chars)
  Loaded: doc_012_amoc_climate.txt (4047 chars)
  Loaded: doc_013_ocean_heat_uptake.txt (4297 chars)
  Loaded: doc_014_upwelling_systems.txt (4469 chars)
  Loaded: doc_015_ocean_acidification.txt (5059 chars)
  Loaded: doc_016_atmospheric_structure.txt (4786 chars)
  Loaded: doc_017_water_vapor_feedback.txt (5340 chars)
  Loaded: doc_018_cloud_feedbacks.txt (5574 chars)
  Loaded: doc_019_atmospheric_circulation.txt (5384 chars)
  Loaded: doc_020_radiation_balance.txt (5699 chars)
Loaded 20 documents
Loaded 10 test cases

[3/7] Initializing embedding generator...
Model: sentence-transformers/all-MiniLM-L6-v2
Type: sentence-transformers

[4/7] Initializing FAISS...
Index path: ./vector_stores/faiss_index.index
Index type: Flat
FAISS version: 1.13.1

[5/8] Creating FAISS index...
Created FAISS Flat index with dimension 384
âœ… FAISS index created

[6/8] Ingesting 20 documents...
Chunk size: 512, Overlap: 50
Strategy: fixed
Chunking 20 documents...
Created 175 chunks in 0.00s
Generating embeddings...
Generated 175 embeddings in 0.36s
Inserting into database...
Inserted 175 chunks in 0.00s
âœ… Ingestion completed in 0.51s
   Documents: 20
   Chunks created: 175
   Parsing time: 0.00s
   Embedding time: 0.36s
   Insertion time: 0.00s

[7/8] Running query latency and quality benchmark...
Test cases: 10
Top-k values: [1, 3, 5, 10, 20]

  Testing top_k=1...
    Query 5/10: 20.14ms, 1 results, avg_similarity=0.667
    Query 10/10: 19.98ms, 1 results, avg_similarity=0.651
    Avg: 20.21ms, P50: 20.10ms, P95: 64.18ms, QPS: 49.47
    Quality: avg_sim=0.656, top1_sim=0.656
    IR Metrics: Recall@1=0.000, Precision@1=0.000, MRR=0.000

  Testing top_k=3...
    Query 5/10: 7.16ms, 3 results, avg_similarity=0.600
    Query 10/10: 7.69ms, 3 results, avg_similarity=0.614
    Avg: 8.01ms, P50: 7.70ms, P95: 11.78ms, QPS: 124.87
    Quality: avg_sim=0.621, top1_sim=0.656
    IR Metrics: Recall@3=0.000, Precision@3=0.000, MRR=0.000

  Testing top_k=5...
    Query 5/10: 6.23ms, 5 results, avg_similarity=0.578
    Query 10/10: 8.12ms, 5 results, avg_similarity=0.596
    Avg: 8.98ms, P50: 8.13ms, P95: 14.02ms, QPS: 111.31
    Quality: avg_sim=0.605, top1_sim=0.656
    IR Metrics: Recall@5=0.000, Precision@5=0.000, MRR=0.000

  Testing top_k=10...
    Query 5/10: 7.22ms, 10 results, avg_similarity=0.551
    Query 10/10: 7.23ms, 10 results, avg_similarity=0.577
    Avg: 8.41ms, P50: 8.69ms, P95: 11.52ms, QPS: 118.95
    Quality: avg_sim=0.579, top1_sim=0.656
    IR Metrics: Recall@10=0.000, Precision@10=0.000, MRR=0.000

  Testing top_k=20...
    Query 5/10: 8.51ms, 20 results, avg_similarity=0.520
    Query 10/10: 7.41ms, 20 results, avg_similarity=0.556
    Avg: 8.89ms, P50: 8.47ms, P95: 15.18ms, QPS: 112.45
    Quality: avg_sim=0.545, top1_sim=0.656
    IR Metrics: Recall@20=0.000, Precision@20=0.000, MRR=0.000
Disconnected from FAISS

[8/8] Exporting results and generating visualizations...
âœ… Results saved to: results/faiss_scaling_experiment/corpus_baseline/results.json
âœ… Performance & quality plot saved to: results/faiss_scaling_experiment/corpus_baseline/performance_quality.png

======================================================================
BENCHMARK COMPLETE
======================================================================

Database: Faiss
Documents: 20
Chunks: 175
Ingestion time: 0.51s

Query Performance & Quality:
Top-K    Avg (ms)     P95 (ms)     QPS        Recall     Precision    MRR       
--------------------------------------------------------------------------------
1        20.21        64.18        49.47      0.000      0.000        0.000     
3        8.01         11.78        124.87     0.000      0.000        0.000     
5        8.98         14.02        111.31     0.000      0.000        0.000     
10       8.41         11.52        118.95     0.000      0.000        0.000     
20       8.89         15.18        112.45     0.000      0.000        0.000     

ðŸ“Š Results: results/faiss_scaling_experiment/corpus_baseline/results.json
ðŸ“ˆ Plot: results/faiss_scaling_experiment/corpus_baseline/performance_quality.png

âœ… Benchmark complete with IR metrics!
   - Recall@K: Fraction of relevant docs retrieved
   - Precision@K: Fraction of retrieved docs that are relevant
   - MRR: Mean Reciprocal Rank of first relevant result
   - All metrics calculated at document level (not chunk level)


STDERR:
/opt/homebrew/Caskroom/miniconda/base/lib/python3.13/site-packages/transformers/utils/hub.py:110: FutureWarning: Using `TRANSFORMERS_CACHE` is deprecated and will be removed in v5 of Transformers. Use `HF_HOME` instead.
  warnings.warn(

Batches:   0%|          | 0/2 [00:00<?, ?it/s]
Batches:  50%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ     | 1/2 [00:00<00:00,  4.07it/s]
Batches: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 2/2 [00:00<00:00,  6.23it/s]
Batches: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 2/2 [00:00<00:00,  5.77it/s]
